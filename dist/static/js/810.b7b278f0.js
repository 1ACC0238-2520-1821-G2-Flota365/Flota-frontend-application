"use strict";(self["webpackChunkflota365_vue"]=self["webpackChunkflota365_vue"]||[]).push([[810],{2333:(t,e,r)=>{var a=r(1291),o=r(655),i=r(7750),s=RangeError;t.exports=function(t){var e=o(i(this)),r="",n=a(t);if(n<0||n===1/0)throw new s("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},7810:(t,e,r)=>{r.r(e),r.d(e,{default:()=>c});r(2008),r(2062),r(4782),r(3288),r(2010),r(8111),r(1701),r(9868),r(6099);var a=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"Reportes"}}),e("div",{staticClass:"card",staticStyle:{"margin-bottom":"1.875rem"}},[t._m(0),e("form",{attrs:{id:"reportForm"},on:{submit:function(e){return e.preventDefault(),t.generateReport.apply(null,arguments)}}},[e("div",{staticStyle:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.25rem","margin-bottom":"1.25rem"}},[e("div",{staticClass:"form-group",staticStyle:{margin:"0"}},[e("label",{staticClass:"form-label",attrs:{for:"reportType"}},[t._v("Tipo de reporte")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.reportFilters.type,expression:"reportFilters.type"}],staticClass:"form-control",attrs:{id:"reportType"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reportFilters,"type",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"performance"}},[t._v("Rendimiento de flota")]),e("option",{attrs:{value:"fuel"}},[t._v("Consumo de combustible")]),e("option",{attrs:{value:"maintenance"}},[t._v("Mantenimiento")]),e("option",{attrs:{value:"drivers"}},[t._v("Desempeño de conductores")]),e("option",{attrs:{value:"custom"}},[t._v("Reporte personalizado")])])]),e("div",{staticClass:"form-group",staticStyle:{margin:"0"}},[e("label",{staticClass:"form-label",attrs:{for:"dateRange"}},[t._v("Rango de fechas")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.reportFilters.dateRange,expression:"reportFilters.dateRange"}],staticClass:"form-control",attrs:{id:"dateRange"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reportFilters,"dateRange",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"today"}},[t._v("Hoy")]),e("option",{attrs:{value:"week"}},[t._v("Última semana")]),e("option",{attrs:{value:"month",selected:""}},[t._v("Último mes")]),e("option",{attrs:{value:"quarter"}},[t._v("Último trimestre")]),e("option",{attrs:{value:"year"}},[t._v("Último año")]),e("option",{attrs:{value:"custom"}},[t._v("Personalizado")])])]),e("div",{staticClass:"form-group",staticStyle:{margin:"0"}},[e("label",{staticClass:"form-label",attrs:{for:"vehicles"}},[t._v("Vehículos")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.reportFilters.vehicles,expression:"reportFilters.vehicles"}],staticClass:"form-control",attrs:{id:"vehicles"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reportFilters,"vehicles",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"all"}},[t._v("Todos los vehículos")]),e("option",{attrs:{value:"active"}},[t._v("Vehículos activos")]),e("option",{attrs:{value:"custom"}},[t._v("Selección personalizada")])])]),e("div",{staticClass:"form-group",staticStyle:{margin:"0"}},[e("label",{staticClass:"form-label",attrs:{for:"format"}},[t._v("Formato de salida")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.reportFilters.format,expression:"reportFilters.format"}],staticClass:"form-control",attrs:{id:"format"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reportFilters,"format",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"pdf"}},[t._v("PDF")]),e("option",{attrs:{value:"excel"}},[t._v("Excel")]),e("option",{attrs:{value:"csv"}},[t._v("CSV")])])])]),e("div",{staticStyle:{display:"flex","justify-content":"flex-end",gap:"0.75rem"}},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:t.resetFilters}},[t._v("Limpiar filtros")]),t._m(1)])])]),e("div",{staticClass:"card",staticStyle:{"margin-bottom":"1.875rem"}},[t._m(2),e("table",{staticClass:"data-table"},[t._m(3),e("tbody",t._l(t.mockReports,(function(r){return e("tr",{key:r.id},[e("td",[t._v(t._s(r.name))]),e("td",[t._v(t._s(r.type))]),e("td",[t._v(t._s(r.date))]),e("td",[t._v(t._s(r.author))]),e("td",[e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.downloadReport(r)}}},[e("i",{staticClass:"fas fa-download"})]),e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.shareReport(r)}}},[e("i",{staticClass:"fas fa-share-alt"})]),e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.deleteReport(r)}}},[e("i",{staticClass:"fas fa-trash"})])])])})),0)])]),t.showReportPreview?e("div",{staticClass:"card"},[t._m(4),e("div",{staticStyle:{padding:"1.25rem","background-color":"var(--color-gray-light)","min-height":"400px","border-radius":"4px","margin-top":"0.75rem"}},[e("div",{staticStyle:{"text-align":"center","margin-bottom":"1.5rem"}},[e("h2",{staticStyle:{"margin-bottom":"0.5rem"}},[t._v("Reporte de Rendimiento de Flota")]),e("p",[t._v("Período: 01/04/2025 - 30/04/2025")]),e("p",[t._v("Generado el: "+t._s((new Date).toLocaleDateString("es-ES")))])]),e("div",{staticStyle:{"background-color":"#fff",padding:"1rem","border-radius":"4px","margin-bottom":"1.25rem"}},[e("h3",{staticStyle:{"margin-bottom":"0.75rem"}},[t._v("Rendimiento por vehículo")]),e("div",{staticStyle:{height:"200px",display:"flex","align-items":"flex-end",gap:"15px",padding:"10px 0"}},t._l(t.mockVehicles.slice(0,5),(function(r,a){return e("div",{key:a,staticStyle:{flex:"1",display:"flex","flex-direction":"column","align-items":"center"}},[e("div",{staticStyle:{width:"30px","background-color":"var(--color-turquoise)"},style:{height:50+120*Math.random()+"px"}}),e("span",{staticStyle:{"margin-top":"5px","font-size":"0.75rem"}},[t._v(t._s(r.plate))])])})),0)]),e("div",{staticStyle:{"background-color":"#fff",padding:"1rem","border-radius":"4px"}},[e("h3",{staticStyle:{"margin-bottom":"0.75rem"}},[t._v("Datos detallados de rendimiento")]),e("table",{staticStyle:{width:"100%","border-collapse":"collapse"}},[t._m(5),e("tbody",t._l(t.mockVehicles.slice(0,5),(function(r,a){return e("tr",{key:a},[e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v(t._s(r.model)+" ("+t._s(r.plate)+")")]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v(t._s(Math.floor(800+700*Math.random())))]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v(t._s(Math.floor(80+70*Math.random())))]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v(t._s((8+3*Math.random()).toFixed(2)))]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v(t._s(Math.floor(400+300*Math.random()))+".00")])])})),0),t._m(6)])])])]):t._e()],1)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Filtros de reporte")])])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-file-alt",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Generar reporte ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Reportes recientes")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Nombre del reporte")]),e("th",[t._v("Tipo")]),e("th",[t._v("Fecha de creación")]),e("th",[t._v("Creado por")]),e("th",[t._v("Acciones")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Vista previa de reporte")]),e("div",[e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-print",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Imprimir ")]),e("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"0.5rem"}},[e("i",{staticClass:"fas fa-download",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Descargar ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Vehículo")]),e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Distancia (km)")]),e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Combustible (L)")]),e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Rendimiento (km/L)")]),e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Costo Total ($)")])])])},function(){var t=this,e=t._self._c;return e("tfoot",[e("tr",[e("td",{staticStyle:{padding:"0.5rem","font-weight":"bold"}},[t._v("Total / Promedio")]),e("td",{staticStyle:{padding:"0.5rem","font-weight":"bold"}},[t._v("5,630")]),e("td",{staticStyle:{padding:"0.5rem","font-weight":"bold"}},[t._v("593")]),e("td",{staticStyle:{padding:"0.5rem","font-weight":"bold"}},[t._v("9.49")]),e("td",{staticStyle:{padding:"0.5rem","font-weight":"bold"}},[t._v("2,965.00")])])])}],i=(r(2489),r(3690));const s={name:"Reporting",components:{Header:i.Y9},data:function(){return{mockReports:[{id:1,name:"Reporte_Rendimiento_Enero_2025.pdf",type:"Rendimiento",date:"15/01/2025",author:"Admin Sistema"},{id:2,name:"Reporte_Mantenimiento_Diciembre_2024.pdf",type:"Mantenimiento",date:"02/01/2025",author:"Admin Sistema"},{id:3,name:"Reporte_Conductores_Noviembre_2024.xlsx",type:"Conductores",date:"28/12/2024",author:"Admin Sistema"}],mockVehicles:[{plate:"ABC-123",model:"Toyota Hilux"},{plate:"XYZ-789",model:"Ford Ranger"},{plate:"GHI-456",model:"Nissan Frontier"},{plate:"JKL-012",model:"Toyota Hilux"},{plate:"MNO-345",model:"Ford Transit"}],reportFilters:{type:"performance",dateRange:"month",vehicles:"all",format:"pdf"},showReportPreview:!1}},methods:{generateReport:function(){this.showReportPreview=!0,alert("Reporte generado correctamente")},resetFilters:function(){this.reportFilters={type:"performance",dateRange:"month",vehicles:"all",format:"pdf"}},downloadReport:function(t){alert("Descargando el reporte: ".concat(t.name))},shareReport:function(t){alert("Compartiendo el reporte: ".concat(t.name))},deleteReport:function(t){confirm('¿Está seguro de eliminar el reporte "'.concat(t.name,'"?'))&&(this.mockReports=this.mockReports.filter((function(e){return e.id!==t.id})))}}},n=s;var l=r(1656),d=(0,l.A)(n,a,o,!1,null,null,null);const c=d.exports},9868:(t,e,r)=>{var a=r(6518),o=r(9504),i=r(1291),s=r(1240),n=r(2333),l=r(9039),d=RangeError,c=String,m=Math.floor,p=o(n),u=o("".slice),v=o(1..toFixed),f=function(t,e,r){return 0===e?r:e%2===1?f(t,e-1,r*t):f(t*t,e/2,r)},_=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},g=function(t,e,r){var a=-1,o=r;while(++a<6)o+=e*t[a],t[a]=o%1e7,o=m(o/1e7)},h=function(t,e){var r=6,a=0;while(--r>=0)a+=t[r],t[r]=m(a/e),a=a%e*1e7},b=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var a=c(t[e]);r=""===r?a:r+p("0",7-a.length)+a}return r},y=l((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!l((function(){v({})}));a({target:"Number",proto:!0,forced:y},{toFixed:function(t){var e,r,a,o,n=s(this),l=i(t),m=[0,0,0,0,0,0],v="",y="0";if(l<0||l>20)throw new d("Incorrect fraction digits");if(n!==n)return"NaN";if(n<=-1e21||n>=1e21)return c(n);if(n<0&&(v="-",n=-n),n>1e-21)if(e=_(n*f(2,69,1))-69,r=e<0?n*f(2,-e,1):n/f(2,e,1),r*=4503599627370496,e=52-e,e>0){g(m,0,r),a=l;while(a>=7)g(m,1e7,0),a-=7;g(m,f(10,a,1),0),a=e-1;while(a>=23)h(m,1<<23),a-=23;h(m,1<<a),g(m,1,1),h(m,2),y=b(m)}else g(m,0,r),g(m,1<<-e,0),y=b(m)+p("0",l);return l>0?(o=y.length,y=v+(o<=l?"0."+p("0",l-o)+y:u(y,0,o-l)+"."+u(y,o-l))):y=v+y,y}})}}]);