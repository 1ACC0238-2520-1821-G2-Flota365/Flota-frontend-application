"use strict";(self["webpackChunkflota365_vue"]=self["webpackChunkflota365_vue"]||[]).push([[189],{3690:(t,i,n)=>{n.d(i,{Y9:()=>l,aF:()=>$,Eg:()=>E,dK:()=>j,Bx:()=>g,Wh:()=>y});n(2010);var a=function(){var t=this,i=t._self._c;return i("div",{staticClass:"header"},[i("h1",[t._v(t._s(t.title))]),i("div",{staticClass:"user-info"},[i("div",{staticClass:"user-avatar"},[t._v(t._s(t.userInitials))]),i("div",[i("p",{staticStyle:{"font-weight":"bold",margin:"0"}},[t._v(t._s(t.userData.name))]),i("p",{staticStyle:{"font-size":"0.875rem",color:"#666",margin:"0"}},[t._v(t._s(t.userData.role))])])])])},e=[];n(8598),n(2062),n(8111),n(1701),n(6099);const s={name:"Header",props:{title:{type:String,required:!0}},data:function(){return{userData:{name:"Juan Supervisor",role:"Administrador"}}},computed:{userInitials:function(){return this.userData.name.split(" ").map((function(t){return t[0]})).join("").toUpperCase()}}},o=s;var r=n(1656),c=(0,r.A)(o,a,e,!1,null,null,null);const l=c.exports;var u=function(){var t=this,i=t._self._c;return i("nav",{staticClass:"sidebar"},[t._m(0),i("ul",{staticClass:"menu"},[t._l(t.menuItems,(function(n){return i("li",{key:n.path,staticClass:"menu-item"},[i("router-link",{staticClass:"menu-link",class:{active:t.$route.path===n.path},attrs:{to:n.path}},[i("i",{class:["fas",n.icon,"menu-icon"]}),i("span",{staticClass:"menu-text"},[t._v(t._s(n.label))])])],1)})),i("li",{staticClass:"menu-item",staticStyle:{"margin-top":"3rem"}},[i("a",{staticClass:"menu-link",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.logout.apply(null,arguments)}}},[i("i",{staticClass:"fas fa-sign-out-alt menu-icon"}),i("span",{staticClass:"menu-text"},[t._v("Cerrar sesión")])])])],2)])},f=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"logo-container"},[i("img",{staticClass:"logo-image",attrs:{src:n(5549),alt:"Flota365 Logo"}})])}];n(4114);const m={name:"Sidebar",data:function(){return{menuItems:[{label:"Dashboard",path:"/",icon:"fa-tachometer-alt"},{label:"Gestión de Flota",path:"/fleet-management",icon:"fa-truck-moving"},{label:"Vehículos",path:"/vehicle-management",icon:"fa-car"},{label:"Conductores",path:"/driver-management",icon:"fa-id-card"},{label:"Reportes",path:"/reporting",icon:"fa-chart-bar"},{label:"Monitoreo",path:"/monitoring",icon:"fa-eye"},{label:"Analytics AI",path:"/analytics",icon:"fa-brain"}]}},methods:{logout:function(){confirm("¿Está seguro que desea cerrar sesión?")&&this.$router.push("/login")}}},d=m;var v=(0,r.A)(d,u,f,!1,null,null,null);const g=v.exports;var p=function(){var t=this,i=t._self._c;return i("span",{staticClass:"status",class:t.statusClass},[t._v(t._s(t.text))])},h=[];const _={name:"StatusBadge",props:{status:{type:String,required:!0},text:{type:String,required:!0}},computed:{statusClass:function(){var t={active:"status-active",inactive:"status-inactive",warning:"status-warning"};return t[this.status.toLowerCase()]||"status-inactive"}}},b=_;var C=(0,r.A)(b,p,h,!1,null,null,null);const y=C.exports;var k=function(){var t=this,i=t._self._c;return t.show?i("div",{staticClass:"modal-backdrop",on:{click:function(i){return i.target!==i.currentTarget?null:t.$emit("close")}}},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[i("h2",[t._v(t._s(t.title))]),i("button",{staticClass:"modal-close",on:{click:function(i){return t.$emit("close")}}},[t._v("×")])]),i("div",{staticClass:"modal-body"},[t._t("default")],2),i("div",{staticClass:"modal-footer"},[t._t("footer",(function(){return[i("button",{staticClass:"btn btn-secondary",on:{click:function(i){return t.$emit("close")}}},[t._v("Cancelar")]),i("button",{staticClass:"btn btn-primary",on:{click:function(i){return t.$emit("submit")}}},[t._v("Aceptar")])]}))],2)])]):t._e()},A=[];const S={name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,required:!0}}},x=S;var P=(0,r.A)(x,k,A,!1,null,"15787332",null);const $=P.exports;var w=function(){var t=this,i=t._self._c;return t.notifications.length>0?i("div",{staticClass:"notification-container"},t._l(t.notifications,(function(n,a){return i("div",{key:a,class:["notification","notification-".concat(n.type)]},[i("i",{class:t.getIconClass(n.type)}),i("span",[t._v(t._s(n.message))]),i("button",{staticClass:"notification-close",on:{click:function(i){return t.removeNotification(a)}}},[i("i",{staticClass:"fas fa-times"})])])})),0):t._e()},N=[];n(5276),n(4554),n(6031);const I={name:"Notification",data:function(){return{notifications:[]}},methods:{addNotification:function(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,e={message:t,type:n};this.notifications.push(e),a>0&&setTimeout((function(){i.removeNotification(i.notifications.indexOf(e))}),a)},removeNotification:function(t){-1!==t&&this.notifications.splice(t,1)},getIconClass:function(t){var i={info:"fas fa-info-circle",success:"fas fa-check-circle",warning:"fas fa-exclamation-triangle",error:"fas fa-times-circle"};return i[t]||i.info}}},D=I;var L=(0,r.A)(D,w,N,!1,null,null,null);const E=L.exports;var M=function(){var t=this,i=t._self._c;return i("div",{staticClass:"pagination-container"},[i("div",[i("span",[t._v("Mostrando "+t._s(t.start)+"-"+t._s(t.end)+" de "+t._s(t.total)+" "+t._s(t.itemLabel))])]),i("div",[i("button",{staticClass:"btn btn-secondary",attrs:{disabled:1===t.currentPage},on:{click:function(i){return t.$emit("page-change",t.currentPage-1)}}},[t._v(" Anterior ")]),t._l(t.displayedPages,(function(n){return i("button",{key:n,class:["btn",t.currentPage===n?"btn-primary":"btn-secondary"],staticStyle:{"margin-left":"0.5rem"},on:{click:function(i){return t.$emit("page-change",n)}}},[t._v(" "+t._s(n)+" ")])})),i("button",{staticClass:"btn btn-secondary",staticStyle:{"margin-left":"0.5rem"},attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(i){return t.$emit("page-change",t.currentPage+1)}}},[t._v(" Siguiente ")])],2)])},q=[];n(2892);const B={name:"Pagination",props:{currentPage:{type:Number,required:!0},totalItems:{type:Number,required:!0},perPage:{type:Number,default:5},itemLabel:{type:String,default:"elementos"}},computed:{totalPages:function(){return Math.ceil(this.totalItems/this.perPage)},start:function(){return(this.currentPage-1)*this.perPage+1},end:function(){return Math.min(this.start+this.perPage-1,this.totalItems)},total:function(){return this.totalItems},displayedPages:function(){var t=[],i=3,n=Math.max(1,this.currentPage-1),a=Math.min(this.totalPages,n+i-1);a-n+1<i&&(n=Math.max(1,a-i+1));for(var e=n;e<=a;e++)t.push(e);return t}}},T=B;var O=(0,r.A)(T,M,q,!1,null,"3bc5cc36",null);const j=O.exports;var F=function(){var t=this,i=t._self._c;return i("div",{staticClass:"notifications-container"},[i("transition-group",{attrs:{name:"notification",tag:"div"}},t._l(t.notifications,(function(n){return i("div",{key:n.id,class:["notification","notification-".concat(n.type)],on:{click:function(i){return t.removeNotification(n.id)}}},[i("div",{staticClass:"notification-content"},[i("i",{staticClass:"notification-icon",class:t.getIconClass(n.type)}),i("div",{staticClass:"notification-text"},[i("div",{staticClass:"notification-message"},[t._v(t._s(n.message))])]),i("button",{staticClass:"notification-close",on:{click:function(i){return i.stopPropagation(),t.removeNotification(n.id)}}},[i("i",{staticClass:"fas fa-times"})])])])})),0)],1)},H=[],G=n(9201),J=n(5353);const K={name:"GlobalNotifications",computed:(0,G.A)({},(0,J.aH)("notifications",["notifications"])),methods:(0,G.A)((0,G.A)({},(0,J.i0)("notifications",["removeNotification"])),{},{getIconClass:function(t){var i={success:"fas fa-check-circle",error:"fas fa-exclamation-circle",warning:"fas fa-exclamation-triangle",info:"fas fa-info-circle"};return i[t]||i.info}})},z=K;var R=(0,r.A)(z,F,H,!1,null,"026bb562",null);R.exports},5549:(t,i,n)=>{t.exports=n.p+"static/img/logo.049e8c2b.png"},8988:(t,i,n)=>{n(3792),n(3362),n(9085),n(9391),n(6918),n(2008),n(6449),n(8598),n(3514),n(9089),n(3288),n(8111),n(2489),n(9432),n(6099),n(6034),n(7495),n(8781),n(5440),n(2945),n(5815),n(4979),n(9739);var a=n(5471),e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"container",attrs:{id:"app"}},[t.isLoginPage?t._e():i("Sidebar"),i("main",{staticClass:"main-content",style:{marginLeft:t.isLoginPage?"0":"250px"}},[i("router-view"),i("Notification",{ref:"notification"})],1)],1)},s=[],o=n(3690);const r={name:"App",components:{Sidebar:o.Bx,Notification:o.Eg},computed:{isLoginPage:function(){return"/login"===this.$route.path}},methods:{showNotification:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;this.$refs.notification.addNotification(t,i,n)}}},c=r;var l=n(1656),u=(0,l.A)(c,e,s,!1,null,null,null);const f=u.exports;var m=n(9325),d=n(5408);a.Ay.config.productionTip=!1,a.Ay.filter("formatDate",(function(t){if(!t)return"";var i=new Date(t);return i.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})})),a.Ay.filter("formatNumber",(function(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"})),a.Ay.mixin({methods:{$notify:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=this.$root;a.$children&&a.$children[0]&&a.$children[0].$refs.notification&&a.$children[0].$refs.notification.addNotification(t,i,n)},$getStatusClass:function(t){var i={1:"active",active:"active",2:"warning",warning:"warning",inmaintenance:"warning",3:"inactive",inactive:"inactive",outofservice:"inactive",4:"inactive",decommissioned:"inactive"};return i[null===t||void 0===t?void 0:t.toString().toLowerCase()]||"inactive"},$handleApiError:function(t){var i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ha ocurrido un error";console.error("API Error:",t);var e=a;if(null!==(i=t.response)&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&i.message)e=t.response.data.message;else if(null!==(n=t.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.errors){var s=Object.values(t.response.data.errors).flat();e=s.join(", ")}else t.message&&(e=t.message);this.$notify(e,"error")}}});var v=localStorage.getItem("auth_token");if(v)try{var g=JSON.parse(atob(v.split(".")[1])),p=Date.now()/1e3;g.exp>p?d.A.commit("auth/SET_TOKEN",v):localStorage.removeItem("auth_token")}catch(h){localStorage.removeItem("auth_token")}new a.Ay({router:m.A,store:d.A,render:function(t){return t(f)}}).$mount("#app")}}]);